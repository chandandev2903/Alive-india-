<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alive India - Morphing Eye Transition</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    .main {
      height: 500vh;
      font-family: Arial, sans-serif;
      background: #000;
      overflow-x: hidden;
    }

    .reel {
      position: relative;
      height: 100vh;
    }

    .stage {
      position: fixed;
      right: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      /* Updated to start with pink/magenta gradient */
      background: rgb(26, 21, 21);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    canvas {
      position: absolute;
      inset: 0;
      z-index: 0;
    }

    #eyeContainer {
      position: relative;
      width: 500px;
      height: 300px;
      z-index: 2;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #eyeball {
      position: relative;
      width: 450px;
      height: 260px;
      background: #fff;
      border-radius: 50% 50%;
      overflow: hidden;
      z-index: 1;
      /* Corner filler gradient from user request */
      clip-path: path('M0,120 C0,120 112,0 225,0 C338,0 450,120 450,120 C450,120 338,240 225,240 C112,240 0,120 0,120 Z');
      background: linear-gradient(to bottom right, #ff8c00, #ff0080);
    }

    #eyeInner {
      position: absolute;
      inset: 0;
      background: #fff;
      z-index: 1;
    }

    #iris {
      position: absolute;
      width: 220px;
      height: 220px;
      background: #F1223B;
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 2;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #pupil {
      width: 50px;
      height: 50px;
      background: #ffffff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: border-radius 0.5s ease;
    }

    #pupilLetter {
      font-size: 60px;
      font-weight: 900;
      color: #fff;
      opacity: 0;
      transform: scale(0.5);
    }

    #eyelidTop {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom right, #ff8c00, #ff0080);
      z-index: 10;
      border-radius: 0 0 50% 50% / 0 0 135% 135%;
      transform-origin: top;
    }

    /* Final Brand Container */
    #brand {
      position: absolute;
      text-align: center;
      color: #fff;
      opacity: 0;
      z-index: 30;
      transform: translateY(30px);
    }

    #brand h1 {
      font-size: 80px;
      letter-spacing: 15px;
      margin-bottom: 10px;
    }
  </style>
</head>

<body>

      <nav class="fixed top-0 left-0 w-full z-[100] px-4 py-4 sm:px-6">
        <div class="relative group">

            <div
                class="absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-1000">
            </div>

            <div
                class="relative flex items-center justify-between bg-[#020617]/80 backdrop-blur-xl border border-white/10 px-6 py-3 rounded-2xl shadow-2xl">

                <div class="flex items-center gap-2 cursor-pointer">
                    <div
                        class="w-9 h-9 bg-gradient-to-tr from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/20">
                        <span class="material-symbols-outlined text-white text-xl">bolt</span>
                    </div>
                    <span class="text-white font-bold tracking-tighter text-xl uppercase hidden sm:block">ALIVE INIDA<span
                            class="text-blue-500">.</span></span>
                </div>

                <div class="hidden lg:flex items-center gap-8">
                    <a href="index.html" class="relative group/link text-2xl font-medium tracking-wide text-white transition-colors duration-300  ">
                        Home
                        <span
                            class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 group-hover/link:w-full"></span>
                    </a>
                    <a href="aboutus.html"
                        class="relative group/link text-2xl font-medium tracking-wide text-slate-400 hover:text-white transition-colors duration-300">
                        About
                        <span
                            class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 group-hover/link:w-full"></span>
                    </a>
                    <a href="service.html"
                        class="relative group/link text-2xl font-medium tracking-wide text-slate-400 hover:text-white transition-colors duration-300">
                        Services
                        <span
                            class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 group-hover/link:w-full"></span>
                    </a>
                    <a href="#projects"
                        class="relative group/link text-2xl font-medium tracking-wide text-slate-400 hover:text-white transition-colors duration-300">
                        Projects
                        <span
                            class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 group-hover/link:w-full"></span>
                    </a>
                    
                </div>

                <div class="flex items-center gap-4">
                    
                    <button
                        class="relative group/btn flex items-center gap-2 bg-gradient-to-r from-blue-500 to-purple-600 p-[1px] rounded-xl transition-transform active:scale-95 shadow-lg shadow-blue-500/20">
                        <div
                            class="bg-[#020617] group-hover:bg-transparent transition-colors duration-300 px-5 py-2 rounded-[11px]">
                            <span class="text-sm font-bold text-white uppercase tracking-wider">Get Started</span>
                        </div>
                    </button>

                    <button id="nav-toggle" class="lg:hidden text-white/80 hover:text-white p-1">
                        <span class="material-symbols-outlined text-3xl">menu</span>
                    </button>
                </div>
            </div>

            <div id="mobile-nav"
                class="hidden absolute top-full left-0 w-full mt-2 bg-[#020617]/95 backdrop-blur-2xl border border-white/10 rounded-2xl overflow-hidden shadow-2xl lg:hidden">
                <div class="flex flex-col p-4 gap-2">
                    <a href="#"
                        class="p-3 text-white font-medium hover:bg-white/5 rounded-xl transition-colors">Home</a>
                    <a href="#"
                        class="p-3 text-slate-400 hover:text-white font-medium hover:bg-white/5 rounded-xl transition-colors">Services</a>
                    <a href="#"
                        class="p-3 text-slate-400 hover:text-white font-medium hover:bg-white/5 rounded-xl transition-colors">Projects</a>
                    <a href="#"
                        class="p-3 text-white font-medium hover:bg-white/5 rounded-xl transition-colors">Login</a>
                </div>
            </div>
        </div>
    </nav>
  <section class="main reel">
    <div class="stage">
      <canvas id="eye3d"></canvas>

      <div id="eyeContainer">
        <div id="eyeball">
          <div id="eyeInner">
            <div id="iris">
              <div id="pupil">
                <span id="pupilLetter">A</span>
              </div>
            </div>
          </div>
          <div id="eyelidTop"></div>
        </div>
      </div>

      <div id="brand">
        <h1>ALIVE INDIA</h1>
        <p>Revolutionising India's non-film music landscape</p>
      </div>
    </div>
  </section>

  <script>
    gsap.registerPlugin(ScrollTrigger);

    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: ".reel",
        start: "top top",
        end: "+=4000",
        scrub: 1,
        pin: true
      }
    });

    /* 1. OPEN EYE: Lid lifts and flattens */
    /* 1. OPEN EYE: Lid lifts and Background changes to Black */
    tl.to("#eyelidTop", {
      yPercent: -110,
      borderRadius: "0 0 50% 50% / 0 0 10% 10%",
      ease: "power2.inOut"
    }, 0);

    // Add this line to change the body background to black as the eye opens
    tl.to(".stage", {
      background: "#000",
      duration: 1,
      ease: "power2.inOut"
    }, 0);

    /* 2. IRIS ENLARGES: Becomes the background */
    tl.to("#iris", {
      scale: 15,
      duration: 2,
      ease: "power2.in"
    }, 0.5);

    /* 3. PUPIL TO 'A': Pupil morphs into the white 'A' */
    tl.to("#pupil", {
      backgroundColor: "transparent",
      duration: 0.5
    }, 1);

    tl.to("#pupilLetter", {
      opacity: 1,
      scale: 1,
      duration: 1
    }, 1.2);

    /* 4. ZOOM THROUGH 'A' */
    tl.to("#eyeContainer", {
      scale: 15,
      opacity: 0,
      duration: 1.5,
      ease: "power3.in"
    }, 2);


    /* 5. FINAL BRAND REVEAL */
    tl.to(".stage", {
      /* Transition to a deep red/black gradient for the final logo */
      background: "linear-gradient(135deg, #800000, #000)",
      duration: 1
    }, 2.5);

    tl.to("#brand", {
      opacity: 1,
      y: 0,
      duration: 1,
      ease: "power2.out"
    }, 3);

    // ThreeJS Background (Subtle Wireframe)
    // const scene = new THREE.Scene();
    // const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    // const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('eye3d'), alpha: true });
    // renderer.setSize(window.innerWidth, window.innerHeight);
    // const geo = new THREE.SphereGeometry(5, 32, 32);
    // const mat = new THREE.MeshBasicMaterial({ color: 0xff1f3c, wireframe: true, transparent: true, opacity: 0.1 });
    // const sphere = new THREE.Mesh(geo, mat);
    // scene.add(sphere);
    // camera.position.z = 10;
    // function animate() {
    //   requestAnimationFrame(animate);
    //   sphere.rotation.y += 0.005;
    //   renderer.render(scene, camera);
    // }
    // animate();
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('eye3d'), alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);

    // Create the main globe
    const globeGeo = new THREE.SphereGeometry(5, 32, 32);
    const globeMat = new THREE.MeshBasicMaterial({
      color: 0xff1f3c,
      wireframe: true,
      transparent: true,
      opacity: 0.15
    });
    const globe = new THREE.Mesh(globeGeo, globeMat);
    scene.add(globe);

    // Create multiple wrapping wires for a more complex effect
    function createWrappingWires() {
      const wires = [];
      const wireCount = 3; // Number of wires
      const colors = [0x00ff88, 0x0088ff, 0xff8800]; // Different wire colors

      for (let w = 0; w < wireCount; w++) {
        const points = [];
        const radius = 5.5; // Slightly larger than globe
        const segments = 150;
        const wireOffset = w * Math.PI * 2 / wireCount; // Offset each wire

        // Create a 3D helix/spiral
        for (let i = 0; i <= segments; i++) {
          const t = i / segments * Math.PI * 6; // Multiple wraps
          const phase = wireOffset + t;

          // Parametric equation for a helix
          const x = radius * Math.cos(phase);
          const y = radius * Math.sin(t * 0.5);
          const z = radius * Math.sin(phase);

          points.push(new THREE.Vector3(x, y, z));
        }

        // Create the curve
        const curve = new THREE.CatmullRomCurve3(points);

        // Create tube geometry for the wire
        const tubeGeometry = new THREE.TubeGeometry(
          curve,
          segments * 2,
          0.08, // Wire thickness
          12,   // Radial segments
          false
        );

        const wireMaterial = new THREE.MeshBasicMaterial({
          color: colors[w],
          transparent: true,
          opacity: 0.7
        });

        const wire = new THREE.Mesh(tubeGeometry, wireMaterial);
        scene.add(wire);
        wires.push(wire);
      }

      return wires;
    }

    // Create a flowing particle effect along the wires
    function createWireParticles() {
      const particles = [];
      const particleCount = 50;
      const particleGeometry = new THREE.SphereGeometry(0.1, 8, 8);
      const particleMaterial = new THREE.MeshBasicMaterial({
        color: 0xffffff,
        transparent: true,
        opacity: 0.8
      });

      for (let i = 0; i < particleCount; i++) {
        const particle = new THREE.Mesh(particleGeometry, particleMaterial);

        // Store particle animation data
        particle.userData = {
          speed: 0.001 + Math.random() * 0.002,
          offset: Math.random() * Math.PI * 2,
          radius: 5.5 + Math.random() * 0.5,
          heightOffset: Math.random() * 2 - 1
        };

        scene.add(particle);
        particles.push(particle);
      }

      return particles;
    }

    // Camera position
    camera.position.z = 12;
    camera.position.y = 4;

    // Create wires and particles
    const wires = createWrappingWires();
    const particles = createWireParticles();

    // Animation function
    function animate() {
      requestAnimationFrame(animate);

      // Rotate the globe
      globe.rotation.y += 0.004;
      globe.rotation.x += 0.001;

      // Animate particles along helical paths
      const time = Date.now() * 0.001;

      particles.forEach((particle, index) => {
        const data = particle.userData;

        // Calculate position on a helix
        const angle = time * data.speed * 10 + data.offset;
        const height = Math.sin(time * data.speed * 5 + data.offset) * 3;

        particle.position.x = Math.cos(angle) * data.radius;
        particle.position.y = height + data.heightOffset;
        particle.position.z = Math.sin(angle) * data.radius;

        // Make particles glow slightly
        const pulse = Math.sin(time * 2 + index) * 0.3 + 0.7;
        particle.material.opacity = pulse * 0.8;
      });

      // Rotate the wires slightly
      wires.forEach((wire, index) => {
        wire.rotation.y += 0.001 * (index + 1);
      });

      // Gentle camera movement
      const cameraTime = Date.now() * 0.0003;
      camera.position.x = Math.sin(cameraTime) * 2;
      camera.position.y = 4 + Math.cos(cameraTime * 0.7) * 0.5;
      camera.lookAt(0, 0, 0);

      // Make wires pulse slightly
      const pulseValue = Math.sin(time) * 0.1 + 0.7;
      wires.forEach(wire => {
        wire.material.opacity = pulseValue * 0.7;
      });

      renderer.render(scene, camera);
    }

    // Handle window resize
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Add lighting for depth
    const ambientLight = new THREE.AmbientLight(0x222222);
    scene.add(ambientLight);

    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
    directionalLight.position.set(5, 10, 7);
    scene.add(directionalLight);

    // Add starfield background
    function createStarfield() {
      const starGeometry = new THREE.BufferGeometry();
      const starCount = 1000;
      const positions = new Float32Array(starCount * 3);

      for (let i = 0; i < starCount * 3; i += 3) {
        positions[i] = (Math.random() - 0.5) * 50;
        positions[i + 1] = (Math.random() - 0.5) * 50;
        positions[i + 2] = (Math.random() - 0.5) * 50;
      }

      starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

      const starMaterial = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 0.05,
        transparent: true,
        opacity: 0.8
      });

      const stars = new THREE.Points(starGeometry, starMaterial);
      scene.add(stars);

      return stars;
    }

    const stars = createStarfield();

    // Animate stars
    function animateStars() {
      stars.rotation.y += 0.0001;
    }

    // Start animation
    animate();

    // Add star animation to main loop
    function fullAnimate() {
      requestAnimationFrame(fullAnimate);
      animateStars();
      // Your existing animate function is already running
    }
  </script>

</body>

</html>